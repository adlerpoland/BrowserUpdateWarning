var BrowserUpdateWarning=new Class({Implements:[Options,Events],options:{showPopup:true,allowCloseAndContiue:false,imagesDirectory:"images/",shade:true,opacity:88,minVersion_ie:7,minVersion_safari:5,minVersion_firefox:5,minVersion_chrome:15,minVersion_opera:10,updateLink_ie:"http://windows.microsoft.com/en-US/internet-explorer/downloads/ie",updateLink_safari:"http://www.apple.com/safari/download/",updateLink_firefox:"http://getfirefox.com/",updateLink_chrome:"https://www.google.com/chrome",updateLink_opera:"http://www.opera.com/download/",downloadOptions:["ie","safari","firefox","chrome","opera"]},initialize:function(a){this.setOptions(a)},check:function(){self=this;var a=["ie","safari","firefox","chrome","opera"];a.each(function(c,b){if(Browser.name==c&&Browser.version<self.options["minVersion_"+c]){if(self.options.showPopup){self.showBrowserUpdateWarning()}self.fireEvent("onFailure");return}});self.fireEvent("onSuccess")},showBrowserUpdateWarning:function(){self=this;if(self.options.shade){self.showShade()}var a=self.options["updateLink_"+Browser.name];html='<div id="BrowserUpdateWarningContent">';html+="<h1>It's time to upgrade your browser.</h1>";html+='<div class="yourBrowser">';html+='<img src="'+self.options.imagesDirectory+"icon-"+Browser.name+'.png" />';html+='<a href="'+a+'" target="_blank">Click here to update your current browser &raquo;</a>';html+="</div>";html+='<div class="otherBrowsers">';this.options.downloadOptions.each(function(d,c){if(d!=Browser.name){html+='<a href="'+self.options["updateLink_"+d]+'">';html+='<img src="'+self.options.imagesDirectory+"icon-"+d+'.png" />';html+="Download ";if(d=="ie"){html+="Internet Explorer"}else{html+=d.substring(0,1).toUpperCase()+d.substring(1)}html+=" &raquo;</a>"}});html+="</div>";html+='<div class="whyUpgrade">';html+="<h2>Why should I upgrade?</h2>";html+="<ul>";html+="<li>Websites load faster</li>";html+="<li>Websites render correctly</li>";html+="<li>Safer browsing</li>";html+="<li>Other great features</li>";html+="</ul>";html+="</div>";html+='<a href="javascript:void(0);" class="continueToSite" onclick="$(\'BrowserUpdateWarningShade\').hide();$(\'BrowserUpdateWarningWrapper\').hide();">Continue to Site &raquo;</a>';html+='<div style="clear:both"></div>';html+="</div>";var b=new Element("div",{id:"BrowserUpdateWarningWrapper"});b.set("html",html).inject(document.body)},showShade:function(){var b=this.options.opacity;var a=new Element("div",{id:"BrowserUpdateWarningShade"});a.setStyle("opacity",(b/100));a.setStyle("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+b+')"');a.setStyle("filter","alpha(opacity = "+b+")");a.inject(document.body)}});